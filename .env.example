# =============================================================================
# PartnerForge Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================

# Application name and version
APP_NAME=PartnerForge
APP_VERSION=3.0.0

# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (enables detailed error messages)
DEBUG=true

# Secret key for JWT and session encryption
# Generate with: openssl rand -hex 64
SECRET_KEY=your-super-secret-key-change-in-production

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================

# PostgreSQL connection (Docker Compose uses these for the postgres service)
POSTGRES_USER=partnerforge
POSTGRES_PASSWORD=partnerforge_dev_password
POSTGRES_DB=partnerforge
POSTGRES_PORT=5432

# Full database URL (used by the application)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://partnerforge:partnerforge_dev_password@localhost:5432/partnerforge

# Connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# For SQLite development (alternative to PostgreSQL)
# DATABASE_URL=sqlite+aiosqlite:///data/partnerforge.db
SQLITE_PATH=data/partnerforge.db

# =============================================================================
# REDIS
# =============================================================================

# Redis URL for caching and Celery broker
# Format: redis://[:password@]host:port/database_number
REDIS_URL=redis://localhost:6379/0
REDIS_PORT=6379

# Cache TTL in seconds (default: 7 days)
CACHE_TTL=604800

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================

# BuiltWith API - Technology detection
# Get key from: https://api.builtwith.com/
BUILTWITH_API_KEY=your_builtwith_api_key_here

# SimilarWeb API - Traffic and competitive intelligence
# Get key from: https://developer.similarweb.com/
SIMILARWEB_API_KEY=your_similarweb_api_key_here

# Yahoo Finance API (optional) - Financial data
YAHOO_FINANCE_API_KEY=

# =============================================================================
# RATE LIMITS (requests per minute)
# =============================================================================

BUILTWITH_RPM=30
SIMILARWEB_RPM=60
YAHOO_FINANCE_RPM=100
WEBSEARCH_RPM=300

# =============================================================================
# CONCURRENT LIMITS
# =============================================================================

BUILTWITH_CONCURRENT=5
SIMILARWEB_CONCURRENT=10
YAHOO_FINANCE_CONCURRENT=10
WEBSEARCH_CONCURRENT=20

# =============================================================================
# SOURCE FRESHNESS (in days)
# =============================================================================

MAX_SOURCE_AGE_DAYS=365
STOCK_PRICE_MAX_AGE_DAYS=1
TRAFFIC_MAX_AGE_DAYS=30
TECH_STACK_MAX_AGE_DAYS=90
QUARTERLY_FINANCIALS_MAX_AGE_DAYS=120

# =============================================================================
# ENRICHMENT
# =============================================================================

ENRICHMENT_TIMEOUT_SECONDS=300
WAVE_TIMEOUT_SECONDS=600
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_SECONDS=30

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================

# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://partnerforge.vercel.app

# =============================================================================
# SERVICE PORTS
# =============================================================================

BACKEND_PORT=8000
FRONTEND_PORT=5173

# Frontend API URL (for Vite)
VITE_API_URL=http://localhost:8000

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Sentry DSN for error tracking (optional)
# Get from: https://sentry.io
SENTRY_DSN=

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# =============================================================================
# CELERY (Background Tasks)
# =============================================================================

# Celery broker URL (uses Redis)
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery result backend
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# SECURITY
# =============================================================================

# JWT secret for API tokens
# Generate with: openssl rand -hex 64
JWT_SECRET=your-jwt-secret-key-change-in-production

# JWT token expiration (in minutes)
JWT_EXPIRATION_MINUTES=1440

# API key for service-to-service authentication
API_SECRET_KEY=your-api-secret-key

# =============================================================================
# PRODUCTION DEPLOYMENT (Railway/Render/Fly.io)
# =============================================================================

# These are typically set automatically by the platform:
# PORT=8000
# RAILWAY_ENVIRONMENT=production
# RAILWAY_SERVICE_NAME=partnerforge-api
# RENDER_SERVICE_NAME=partnerforge
# FLY_APP_NAME=partnerforge
